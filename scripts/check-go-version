#! /usr/bin/env bash

set -eu -o pipefail

VERSION_NUMBER=1.14
EXPECTED_VERSION="go${VERSION_NUMBER}"

CURRENT_VERSION=$(go version)
if [[ $CURRENT_VERSION = *$EXPECTED_VERSION* ]]; then
  echo "Golang $CURRENT_VERSION installed"
else
  echo "Golang $EXPECTED_VERSION is required to run this project! Found $CURRENT_VERSION"
  echo "Install go with 'brew install go'"
  echo "or if that version is ahead of ${CURRENT_VERSION} then run:"
  echo "Run 'brew install go@${VERSION_NUMBER} && brew link --force go@${VERSION_NUMBER}' to install"
  exit 1
fi

